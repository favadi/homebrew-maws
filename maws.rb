# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Maws < Formula
  desc "MFA AWS CLI"
  homepage "https://github.com/favadi/maws"
  version "0.0.2"
  license "BSD-2-Clause"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/favadi/maws/releases/download/v0.0.2/maws_0.0.2_Darwin_arm64.tar.gz"
      sha256 "f22f4911fa926c17178dafb29721d9b93a80c089892b2290d9b011a1d297e098"

      def install
        bin.install "maws"
        (bash_completion/"maws_bash_completer").write <<~EOS
        complete -C aws_completer maws
        EOS
        (zsh_completion/"_maws").write <<~EOS
        #compdef maws
        _maws () {
        local e
        e=$(dirname ${funcsourcetrace[1]%:*})/aws_zsh_completer.sh
        if [[ -f $e ]]; then source $e; fi
        }
        EOS
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/favadi/maws/releases/download/v0.0.2/maws_0.0.2_Darwin_x86_64.tar.gz"
      sha256 "a3d5175eb7ffcce5b6823489027bc54607d88c1c3412ae53065d4e0095639b2a"

      def install
        bin.install "maws"
        (bash_completion/"maws_bash_completer").write <<~EOS
        complete -C aws_completer maws
        EOS
        (zsh_completion/"_maws").write <<~EOS
        #compdef maws
        _maws () {
        local e
        e=$(dirname ${funcsourcetrace[1]%:*})/aws_zsh_completer.sh
        if [[ -f $e ]]; then source $e; fi
        }
        EOS
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/favadi/maws/releases/download/v0.0.2/maws_0.0.2_Linux_arm64.tar.gz"
      sha256 "ff27e4539266d652d0d3da97874991104a1adbc6922bff2e07887037b9e544d3"

      def install
        bin.install "maws"
        (bash_completion/"maws_bash_completer").write <<~EOS
        complete -C aws_completer maws
        EOS
        (zsh_completion/"_maws").write <<~EOS
        #compdef maws
        _maws () {
        local e
        e=$(dirname ${funcsourcetrace[1]%:*})/aws_zsh_completer.sh
        if [[ -f $e ]]; then source $e; fi
        }
        EOS
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/favadi/maws/releases/download/v0.0.2/maws_0.0.2_Linux_x86_64.tar.gz"
      sha256 "18a43f9c9614ffd94a1325c66e11c4e8709097ac8dbff22c87341f2ec4433787"

      def install
        bin.install "maws"
        (bash_completion/"maws_bash_completer").write <<~EOS
        complete -C aws_completer maws
        EOS
        (zsh_completion/"_maws").write <<~EOS
        #compdef maws
        _maws () {
        local e
        e=$(dirname ${funcsourcetrace[1]%:*})/aws_zsh_completer.sh
        if [[ -f $e ]]; then source $e; fi
        }
        EOS
      end
    end
  end

  depends_on "awscli"
end
